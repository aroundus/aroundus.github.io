{"version":3,"file":"component---src-pages-index-tsx-5745fa876727f6b5e2ea.js","mappings":"0jBAYA,IAwDA,EAxDsB,WACpB,IA8BMA,GA9BwBC,EAAAA,EAAAA,IAAe,cAArCC,kBA8BwBC,MAAMC,KAAI,SAACC,GAAD,O,+VAAA,EACxCC,GAAID,EAAKC,GACTC,KAAMF,EAAKG,OAAOC,MACfJ,EAAKK,gBAaV,OACE,gCACE,gBAAC,KAAD,CAAkBC,KAAMX,EAAM,KAC9B,gBAAC,KAAD,CAAmBY,SAba,SAACC,GACnC,IAAKA,IAAUC,OAAOC,SAAU,MAAO,GAEvC,IAAMC,EAAYF,OAAOC,SAASE,GAC5BC,EAAUF,EAAUG,MAAMC,OAAOP,GAGvC,OADAQ,QAAQC,IAAIJ,GACLA,EAAQd,KAAI,SAACmB,GAAD,OAAuBP,EAAUQ,MAAMD,EAAOE,WAO/D,gBAAC,KAAD,CAAyBzB,MAAOA,EAAM0B,QAAO,SAACC,EAAcR,GAAf,OAAiCA,S,g9BCxDpF,IAqBA,EArBY,WACV,SAA4BS,EAAAA,EAAAA,WAAS,GAArC,GAAOC,EAAP,KAAgBC,EAAhB,KAMA,OAJAC,EAAAA,EAAAA,YAAU,WACRD,GAAS,KACR,IAGD,gCACGD,GACC,gCACE,gBAACG,EAAA,EAAD,MACA,gBAACC,EAAA,EAAD,KACE,gBAAC,EAAD,W,0CCnBZ,UAAeC,EAAf","sources":["webpack://aroundus.github.io/./src/containers/HomeContainer.tsx","webpack://aroundus.github.io/./src/pages/App.tsx","webpack://aroundus.github.io/./src/pages/index.tsx"],"sourcesContent":["import React from 'react';\nimport { graphql, useStaticQuery } from 'gatsby';\n\nimport { KeyVisualSection, PostPresentationSection, PostSearchSection } from '~components/Section';\nimport { AnyObject } from '~types/global';\n\ndeclare global {\n  interface Window {\n    __LUNR__: AnyObject;\n  }\n}\n\nconst HomeContainer = () => {\n  const { allMarkdownRemark } = useStaticQuery(\n    graphql`\n      query {\n        allMarkdownRemark(\n          sort: {\n            fields: [frontmatter___date, frontmatter___index, frontmatter___title],\n            order: [DESC, DESC, ASC]\n          }\n          limit: 100\n        ) {\n          nodes {\n            id\n            fields {\n              slug\n            }\n            html\n            frontmatter {\n              category\n              index\n              title\n              description\n              image\n              date(formatString: \"YYYY-MM-DD\")\n            }\n          }\n        }\n      }\n    `,\n  );\n\n  const posts = allMarkdownRemark.nodes.map((node: AnyObject) => ({\n    id: node.id,\n    path: node.fields.slug,\n    ...node.frontmatter,\n  }));\n\n  const handlePostSearchFieldChange = (query: string) => {\n    if (!query || !window.__LUNR__) return [];\n\n    const lunrIndex = window.__LUNR__.ko;\n    const results = lunrIndex.index.search(query);\n\n    console.log(results);\n    return results.map((result: AnyObject) => lunrIndex.store[result.ref]);\n  };\n\n  return (\n    <>\n      <KeyVisualSection post={posts[0]} />\n      <PostSearchSection onChange={handlePostSearchFieldChange} />\n      <PostPresentationSection posts={posts.filter((_: AnyObject, index: number) => index)} />\n    </>\n  );\n};\n\nexport default HomeContainer;\n","import React, { useEffect, useState } from 'react';\n\nimport Layout from '~components/Layout';\nimport SEO from '~components/SEO';\n\nimport HomeContainer from '~containers/HomeContainer';\n\nconst App = () => {\n  const [isMount, setMount] = useState(false);\n\n  useEffect(() => {\n    setMount(true);\n  }, []);\n\n  return (\n    <>\n      {isMount && (\n        <>\n          <SEO />\n          <Layout>\n            <HomeContainer />\n          </Layout>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default App;\n","import App from './App';\nexport default App;\n"],"names":["posts","useStaticQuery","allMarkdownRemark","nodes","map","node","id","path","fields","slug","frontmatter","post","onChange","query","window","__LUNR__","lunrIndex","ko","results","index","search","console","log","result","store","ref","filter","_","useState","isMount","setMount","useEffect","SEO","Layout","App"],"sourceRoot":""}